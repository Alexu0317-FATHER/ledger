# 家庭消费仪表盘 (Dashboard) 后续开发计划

本文档旨在记录当前仪表盘项目的状态，并为后续的开发（无论是本人还是继任的AI助手）提供清晰的指引和思路。

## 当前状态

*   **前端实现**: `index.html`
*   **核心技术**: HTML, CSS, JavaScript
*   **图表库**: [Chart.js](https://www.chartjs.org/)
*   **当前功能**: 仅实现了一个基础的“支出分类饼图”，用于展示 `ledger_data.json` 中的数据。功能非常有限，仅作为概念验证。

## 用户核心需求与未来构想

经过与用户的深入沟通，我们明确了仪表盘的最终目标是成为一个能够洞察消费习惯、功能强大的个人财务分析工具。

### 核心功能点

1.  **多图表展示**:
    *   **消费趋势图**: 以折线图展示每日或每月的总消费变化，洞察消费高峰期。
    *   **分类条形图**: 按消费类别进行条形图排序，清晰对比各项开销的绝对金额。
    *   **日历热力图**: 在日历上用颜色的深浅表示每日的消费总额，直观感受消费分布。

2.  **交互式筛选与下钻**:
    *   **时间范围筛选**: 提供预��的时间范围按钮（如“本月”、“上月”、“今年”）和自定义日期范围选择功能。
    *   **图表联动与下钻**: 点击饼图或条形图的某个分类（如“吃”），页面下方应能联动显示该分类下的所有明细消费记录表格。

3.  **数据处理与展示**:
    *   **区分收支**: 在图表和数据中明确区分“收入”与“支出”，并计算“结余”。
    *   **多成员支持 (可选)**: 未来可考虑支持多位家庭成员账单的合并与独立统计。

### 产品化与架构思考

用户非常有前瞻性地提出了将此工具产品化的构想，其核心是**本地化**和**智能化**。

*   **本地化商家规则库**: 为每个用户或地理区域维护一个独立的、轻量级的商家规则库，极大提升分类的准确性和效率。
*   **模块化调用架构**:
    1.  **个人规则模块**: 优先匹配用户自定义规则。
    2.  **启发式分析模块**: 对未分类数据应用“早餐规则”等生活模式规则。
    3.  **LBS模块**: 结合地理位置辅助判断。
    4.  **大模型兜底模块**: 最后使用通用大模型进行裁定，并反向扩充个人规则库，实现自学习。

该架构具备高效、低成本、可扩展和自我进化的潜力。

**结论**: 后续的开发应围绕将 `index.html` 从一个单一的饼图页面，改造为一个支持多图表、可交互、数据驱动的Web应用。

---
*文档创建于: 2025年7月13日*
